(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[766],{1766:function(i,e,a){var g,h,b,c,d,f,j,k,l,m,n,o,p,q,r,s;(b=function(){this.init()}).prototype={init:function(){var a=this||c;return a._counter=1e3,a._html5AudioPool=[],a.html5PoolSize=10,a._codecs={},a._howls=[],a._muted=!1,a._volume=1,a._canPlayEvent="canplaythrough",a._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,a.masterGain=null,a.noAudio=!1,a.usingWebAudio=!0,a.autoSuspend=!0,a.ctx=null,a.autoUnlock=!0,a._setup(),a},volume:function(b){var a=this||c;if(b=parseFloat(b),a.ctx||o(),void 0!==b&&b>=0&&b<=1){if(a._volume=b,a._muted)return a;a.usingWebAudio&&a.masterGain.gain.setValueAtTime(b,c.ctx.currentTime);for(var d=0;d<a._howls.length;d++)if(!a._howls[d]._webAudio)for(var g=a._howls[d]._getSoundIds(),f=0;f<g.length;f++){var e=a._howls[d]._soundById(g[f]);e&&e._node&&(e._node.volume=e._volume*b)}return a}return a._volume},mute:function(e){var a=this||c;a.ctx||o(),a._muted=e,a.usingWebAudio&&a.masterGain.gain.setValueAtTime(e?0:a._volume,c.ctx.currentTime);for(var b=0;b<a._howls.length;b++)if(!a._howls[b]._webAudio)for(var g=a._howls[b]._getSoundIds(),f=0;f<g.length;f++){var d=a._howls[b]._soundById(g[f]);d&&d._node&&(d._node.muted=!!e||d._muted)}return a},stop:function(){for(var a=this||c,b=0;b<a._howls.length;b++)a._howls[b].stop();return a},unload:function(){for(var a=this||c,b=a._howls.length-1;b>=0;b--)a._howls[b].unload();return a.usingWebAudio&&a.ctx&& void 0!==a.ctx.close&&(a.ctx.close(),a.ctx=null,o()),a},codecs:function(a){return(this||c)._codecs[a.replace(/^x-/,"")]},_setup:function(){var a=this||c;if(a.state=a.ctx?a.ctx.state||"suspended":"suspended",a._autoSuspend(),!a.usingWebAudio)if("undefined"!=typeof Audio)try{var b=new Audio;void 0===b.oncanplaythrough&&(a._canPlayEvent="canplay")}catch(d){a.noAudio=!0}else a.noAudio=!0;try{var b=new Audio;b.muted&&(a.noAudio=!0)}catch(e){}return a.noAudio||a._setupCodecs(),a},_setupCodecs:function(){var b=this||c,a=null;try{a="undefined"!=typeof Audio?new Audio:null}catch(k){return b}if(!a||"function"!=typeof a.canPlayType)return b;var e=a.canPlayType("audio/mpeg;").replace(/^no$/,""),d=b._navigator?b._navigator.userAgent:"",f=d.match(/OPR\/([0-6].)/g),i=f&&33>parseInt(f[0].split("/")[1],10),j=-1!==d.indexOf("Safari")&& -1===d.indexOf("Chrome"),g=d.match(/Version\/(.*?) /),h=j&&g&&15>parseInt(g[1],10);return b._codecs={mp3:!!(!i&&(e||a.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!e,opus:!!a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(a.canPlayType('audio/wav; codecs="1"')||a.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!a.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!a.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(a.canPlayType("audio/x-m4b;")||a.canPlayType("audio/m4b;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(a.canPlayType("audio/x-mp4;")||a.canPlayType("audio/mp4;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!h&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!h&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!a.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(a.canPlayType("audio/x-flac;")||a.canPlayType("audio/flac;")).replace(/^no$/,"")},b},_unlockAudio:function(){var a=this||c;if(!a._audioUnlocked&&a.ctx){a._audioUnlocked=!1,a.autoUnlock=!1,a._mobileUnloaded||44100===a.ctx.sampleRate||(a._mobileUnloaded=!0,a.unload()),a._scratchBuffer=a.ctx.createBuffer(1,1,22050);var b=function(i){for(;a._html5AudioPool.length<a.html5PoolSize;)try{var g=new Audio;g._unlocked=!0,a._releaseHtml5Audio(g)}catch(j){a.noAudio=!0;break}for(var d=0;d<a._howls.length;d++)if(!a._howls[d]._webAudio)for(var h=a._howls[d]._getSoundIds(),f=0;f<h.length;f++){var e=a._howls[d]._soundById(h[f]);e&&e._node&&!e._node._unlocked&&(e._node._unlocked=!0,e._node.load())}a._autoResume();var c=a.ctx.createBufferSource();c.buffer=a._scratchBuffer,c.connect(a.ctx.destination),void 0===c.start?c.noteOn(0):c.start(0),"function"==typeof a.ctx.resume&&a.ctx.resume(),c.onended=function(){c.disconnect(0),a._audioUnlocked=!0,document.removeEventListener("touchstart",b,!0),document.removeEventListener("touchend",b,!0),document.removeEventListener("click",b,!0),document.removeEventListener("keydown",b,!0);for(var d=0;d<a._howls.length;d++)a._howls[d]._emit("unlock")}};return document.addEventListener("touchstart",b,!0),document.addEventListener("touchend",b,!0),document.addEventListener("click",b,!0),document.addEventListener("keydown",b,!0),a}},_obtainHtml5Audio:function(){var b=this||c;if(b._html5AudioPool.length)return b._html5AudioPool.pop();var a=new Audio().play();return a&&"undefined"!=typeof Promise&&(a instanceof Promise||"function"==typeof a.then)&&a.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(a){var b=this||c;return a._unlocked&&b._html5AudioPool.push(a),b},_autoSuspend:function(){var a=this;if(a.autoSuspend&&a.ctx&& void 0!==a.ctx.suspend&&c.usingWebAudio){for(var b=0;b<a._howls.length;b++)if(a._howls[b]._webAudio){for(var d=0;d<a._howls[b]._sounds.length;d++)if(!a._howls[b]._sounds[d]._paused)return a}return a._suspendTimer&&clearTimeout(a._suspendTimer),a._suspendTimer=setTimeout(function(){if(a.autoSuspend){a._suspendTimer=null,a.state="suspending";var b=function(){a.state="suspended",a._resumeAfterSuspend&&(delete a._resumeAfterSuspend,a._autoResume())};a.ctx.suspend().then(b,b)}},3e4),a}},_autoResume:function(){var a=this;if(a.ctx&& void 0!==a.ctx.resume&&c.usingWebAudio)return"running"===a.state&&"interrupted"!==a.ctx.state&&a._suspendTimer?(clearTimeout(a._suspendTimer),a._suspendTimer=null):"suspended"===a.state||"running"===a.state&&"interrupted"===a.ctx.state?(a.ctx.resume().then(function(){a.state="running";for(var b=0;b<a._howls.length;b++)a._howls[b]._emit("resume")}),a._suspendTimer&&(clearTimeout(a._suspendTimer),a._suspendTimer=null)):"suspending"===a.state&&(a._resumeAfterSuspend=!0),a}},c=new b,(d=function(a){if(!a.src||0===a.src.length){console.error("An array of source files must be passed with any new Howl.");return}this.init(a)}).prototype={init:function(a){var b=this;return c.ctx||o(),b._autoplay=a.autoplay||!1,b._format="string"!=typeof a.format?a.format:[a.format],b._html5=a.html5||!1,b._muted=a.mute||!1,b._loop=a.loop||!1,b._pool=a.pool||5,b._preload="boolean"!=typeof a.preload&&"metadata"!==a.preload||a.preload,b._rate=a.rate||1,b._sprite=a.sprite||{},b._src="string"!=typeof a.src?a.src:[a.src],b._volume=void 0!==a.volume?a.volume:1,b._xhr={method:a.xhr&&a.xhr.method?a.xhr.method:"GET",headers:a.xhr&&a.xhr.headers?a.xhr.headers:null,withCredentials:!!a.xhr&&!!a.xhr.withCredentials&&a.xhr.withCredentials},b._duration=0,b._state="unloaded",b._sounds=[],b._endTimers={},b._queue=[],b._playLock=!1,b._onend=a.onend?[{fn:a.onend}]:[],b._onfade=a.onfade?[{fn:a.onfade}]:[],b._onload=a.onload?[{fn:a.onload}]:[],b._onloaderror=a.onloaderror?[{fn:a.onloaderror}]:[],b._onplayerror=a.onplayerror?[{fn:a.onplayerror}]:[],b._onpause=a.onpause?[{fn:a.onpause}]:[],b._onplay=a.onplay?[{fn:a.onplay}]:[],b._onstop=a.onstop?[{fn:a.onstop}]:[],b._onmute=a.onmute?[{fn:a.onmute}]:[],b._onvolume=a.onvolume?[{fn:a.onvolume}]:[],b._onrate=a.onrate?[{fn:a.onrate}]:[],b._onseek=a.onseek?[{fn:a.onseek}]:[],b._onunlock=a.onunlock?[{fn:a.onunlock}]:[],b._onresume=[],b._webAudio=c.usingWebAudio&&!b._html5,void 0!==c.ctx&&c.ctx&&c.autoUnlock&&c._unlockAudio(),c._howls.push(b),b._autoplay&&b._queue.push({event:"play",action:function(){b.play()}}),b._preload&&"none"!==b._preload&&b.load(),b},load:function(){var b,g,a=this,e=null;if(c.noAudio){a._emit("loaderror",null,"No audio support.");return}"string"==typeof a._src&&(a._src=[a._src]);for(var d=0;d<a._src.length;d++){if(a._format&&a._format[d])b=a._format[d];else{if("string"!=typeof(g=a._src[d])){a._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(b=/^data:audio\/([^;,]+);/i.exec(g))||(b=/\.([^.]+)$/.exec(g.split("?",1)[0])),b&&(b=b[1].toLowerCase())}if(b||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),b&&c.codecs(b)){e=a._src[d];break}}if(!e){a._emit("loaderror",null,"No codec support for selected audio sources.");return}return a._src=e,a._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(a._html5=!0,a._webAudio=!1),new f(a),a._webAudio&&k(a),a},play:function(b,k){var a=this,e=null;if("number"==typeof b)e=b,b=null;else if("string"==typeof b&&"loaded"===a._state&&!a._sprite[b])return null;else if(void 0===b&&(b="__default",!a._playLock)){for(var h=0,g=0;g<a._sounds.length;g++)a._sounds[g]._paused&&!a._sounds[g]._ended&&(h++,e=a._sounds[g]._id);1===h?b=null:e=null}var d=e?a._soundById(e):a._inactiveSound();if(!d)return null;if(e&&!b&&(b=d._sprite||"__default"),"loaded"!==a._state){d._sprite=b,d._ended=!1;var l=d._id;return a._queue.push({event:"play",action:function(){a.play(l)}}),l}if(e&&!d._paused)return k||a._loadQueue("play"),d._id;a._webAudio&&c._autoResume();var i=Math.max(0,d._seek>0?d._seek:a._sprite[b][0]/1e3),m=Math.max(0,(a._sprite[b][0]+a._sprite[b][1])/1e3-i),r=1e3*m/Math.abs(d._rate),s=a._sprite[b][0]/1e3,n=(a._sprite[b][0]+a._sprite[b][1])/1e3;d._sprite=b,d._ended=!1;var t=function(){d._paused=!1,d._seek=i,d._start=s,d._stop=n,d._loop=!!(d._loop||a._sprite[b][2])};if(i>=n){a._ended(d);return}var f=d._node;if(a._webAudio){var j=function(){a._playLock=!1,t(),a._refreshBuffer(d);var b=d._muted||a._muted?0:d._volume;f.gain.setValueAtTime(b,c.ctx.currentTime),d._playStart=c.ctx.currentTime,void 0===f.bufferSource.start?d._loop?f.bufferSource.noteGrainOn(0,i,86400):f.bufferSource.noteGrainOn(0,i,m):d._loop?f.bufferSource.start(0,i,86400):f.bufferSource.start(0,i,m),r!==1/0&&(a._endTimers[d._id]=setTimeout(a._ended.bind(a,d),r)),k||setTimeout(function(){a._emit("play",d._id),a._loadQueue()},0)};"running"===c.state&&"interrupted"!==c.ctx.state?j():(a._playLock=!0,a.once("resume",j),a._clearTimer(d._id))}else{var o=function(){f.currentTime=i,f.muted=d._muted||a._muted||c._muted||f.muted,f.volume=d._volume*c.volume(),f.playbackRate=d._rate;try{var e=f.play();if(e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)?(a._playLock=!0,t(),e.then(function(){a._playLock=!1,f._unlocked=!0,k?a._loadQueue():a._emit("play",d._id)}).catch(function(){a._playLock=!1,a._emit("playerror",d._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),d._ended=!0,d._paused=!0})):k||(a._playLock=!1,t(),a._emit("play",d._id)),f.playbackRate=d._rate,f.paused){a._emit("playerror",d._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}"__default"!==b||d._loop?a._endTimers[d._id]=setTimeout(a._ended.bind(a,d),r):(a._endTimers[d._id]=function(){a._ended(d),f.removeEventListener("ended",a._endTimers[d._id],!1)},f.addEventListener("ended",a._endTimers[d._id],!1))}catch(g){a._emit("playerror",d._id,g)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===f.src&&(f.src=a._src,f.load());var p=window&&window.ejecta|| !f.readyState&&c._navigator.isCocoonJS;if(f.readyState>=3||p)o();else{a._playLock=!0,a._state="loading";var q=function(){a._state="loaded",o(),f.removeEventListener(c._canPlayEvent,q,!1)};f.addEventListener(c._canPlayEvent,q,!1),a._clearTimer(d._id)}}return d._id},pause:function(e){var b=this;if("loaded"!==b._state||b._playLock)return b._queue.push({event:"pause",action:function(){b.pause(e)}}),b;for(var d=b._getSoundIds(e),c=0;c<d.length;c++){b._clearTimer(d[c]);var a=b._soundById(d[c]);if(a&&!a._paused&&(a._seek=b.seek(d[c]),a._rateSeek=0,a._paused=!0,b._stopFade(d[c]),a._node))if(b._webAudio){if(!a._node.bufferSource)continue;void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),b._cleanBuffer(a._node)}else isNaN(a._node.duration)&&a._node.duration!==1/0||a._node.pause();arguments[1]||b._emit("pause",a?a._id:null)}return b},stop:function(e,f){var b=this;if("loaded"!==b._state||b._playLock)return b._queue.push({event:"stop",action:function(){b.stop(e)}}),b;for(var d=b._getSoundIds(e),c=0;c<d.length;c++){b._clearTimer(d[c]);var a=b._soundById(d[c]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,b._stopFade(d[c]),a._node&&(b._webAudio?a._node.bufferSource&&(void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),b._cleanBuffer(a._node)):isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause(),a._node.duration===1/0&&b._clearSound(a._node))),f||b._emit("stop",a._id))}return b},mute:function(d,f){var a=this;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"mute",action:function(){a.mute(d,f)}}),a;if(void 0===f){if("boolean"!=typeof d)return a._muted;a._muted=d}for(var g=a._getSoundIds(f),e=0;e<g.length;e++){var b=a._soundById(g[e]);b&&(b._muted=d,b._interval&&a._stopFade(b._id),a._webAudio&&b._node?b._node.gain.setValueAtTime(d?0:b._volume,c.ctx.currentTime):b._node&&(b._node.muted=!!c._muted||d),a._emit("mute",b._id))}return a},volume:function(){var f,e,b,a=this,d=arguments;if(0===d.length)return a._volume;if(1===d.length||2===d.length&& void 0===d[1]?a._getSoundIds().indexOf(d[0])>=0?e=parseInt(d[0],10):f=parseFloat(d[0]):d.length>=2&&(f=parseFloat(d[0]),e=parseInt(d[1],10)),void 0===f||!(f>=0)||!(f<=1))return(b=e?a._soundById(e):a._sounds[0])?b._volume:0;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"volume",action:function(){a.volume.apply(a,d)}}),a;void 0===e&&(a._volume=f),e=a._getSoundIds(e);for(var g=0;g<e.length;g++)(b=a._soundById(e[g]))&&(b._volume=f,d[2]||a._stopFade(e[g]),a._webAudio&&b._node&&!b._muted?b._node.gain.setValueAtTime(f,c.ctx.currentTime):b._node&&!b._muted&&(b._node.volume=f*c.volume()),a._emit("volume",b._id));return a},fade:function(b,f,g,h){var a=this;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"fade",action:function(){a.fade(b,f,g,h)}}),a;b=Math.min(Math.max(0,parseFloat(b)),1),f=Math.min(Math.max(0,parseFloat(f)),1),g=parseFloat(g),a.volume(b,h);for(var i=a._getSoundIds(h),e=0;e<i.length;e++){var d=a._soundById(i[e]);if(d){if(h||a._stopFade(i[e]),a._webAudio&&!d._muted){var j=c.ctx.currentTime,k=j+g/1e3;d._volume=b,d._node.gain.setValueAtTime(b,j),d._node.gain.linearRampToValueAtTime(f,k)}a._startFadeInterval(d,b,f,g,i[e],void 0===h)}}return a},_startFadeInterval:function(a,b,c,d,g,h){var i=this,j=b,f=c-b,e=Math.abs(f/.01),k=Date.now();a._fadeTo=c,a._interval=setInterval(function(){var e=(Date.now()-k)/d;k=Date.now(),j+=f*e,j=Math.round(100*j)/100,j=f<0?Math.max(c,j):Math.min(c,j),i._webAudio?a._volume=j:i.volume(j,a._id,!0),h&&(i._volume=j),(c<b&&j<=c||c>b&&j>=c)&&(clearInterval(a._interval),a._interval=null,a._fadeTo=null,i.volume(c,a._id),i._emit("fade",a._id))},Math.max(4,e>0?d/e:d))},_stopFade:function(b){var a=this._soundById(b);return a&&a._interval&&(this._webAudio&&a._node.gain.cancelScheduledValues(c.ctx.currentTime),clearInterval(a._interval),a._interval=null,this.volume(a._fadeTo,b),a._fadeTo=null,this._emit("fade",b)),this},loop:function(){var d,g,a,b=this,c=arguments;if(0===c.length)return b._loop;if(1===c.length){if("boolean"!=typeof c[0])return!!(a=b._soundById(parseInt(c[0],10)))&&a._loop;d=c[0],b._loop=d}else 2===c.length&&(d=c[0],g=parseInt(c[1],10));for(var f=b._getSoundIds(g),e=0;e<f.length;e++)(a=b._soundById(f[e]))&&(a._loop=d,b._webAudio&&a._node&&a._node.bufferSource&&(a._node.bufferSource.loop=d,d&&(a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop,b.playing(f[e])&&(b.pause(f[e],!0),b.play(f[e],!0)))));return b},rate:function(){var g,d,b,a=this,f=arguments;if(0===f.length?d=a._sounds[0]._id:1===f.length?a._getSoundIds().indexOf(f[0])>=0?d=parseInt(f[0],10):g=parseFloat(f[0]):2===f.length&&(g=parseFloat(f[0]),d=parseInt(f[1],10)),"number"!=typeof g)return(b=a._soundById(d))?b._rate:a._rate;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"rate",action:function(){a.rate.apply(a,f)}}),a;void 0===d&&(a._rate=g),d=a._getSoundIds(d);for(var e=0;e<d.length;e++)if(b=a._soundById(d[e])){a.playing(d[e])&&(b._rateSeek=a.seek(d[e]),b._playStart=a._webAudio?c.ctx.currentTime:b._playStart),b._rate=g,a._webAudio&&b._node&&b._node.bufferSource?b._node.bufferSource.playbackRate.setValueAtTime(g,c.ctx.currentTime):b._node&&(b._node.playbackRate=g);var h=a.seek(d[e]),i=(a._sprite[b._sprite][0]+a._sprite[b._sprite][1])/1e3-h,j=1e3*i/Math.abs(b._rate);(a._endTimers[d[e]]||!b._paused)&&(a._clearTimer(d[e]),a._endTimers[d[e]]=setTimeout(a._ended.bind(a,b),j)),a._emit("rate",b._id)}return a},seek:function(){var f,d,a=this,e=arguments;if(0===e.length?a._sounds.length&&(d=a._sounds[0]._id):1===e.length?a._getSoundIds().indexOf(e[0])>=0?d=parseInt(e[0],10):a._sounds.length&&(d=a._sounds[0]._id,f=parseFloat(e[0])):2===e.length&&(f=parseFloat(e[0]),d=parseInt(e[1],10)),void 0===d)return 0;if("number"==typeof f&&("loaded"!==a._state||a._playLock))return a._queue.push({event:"seek",action:function(){a.seek.apply(a,e)}}),a;var b=a._soundById(d);if(b)if("number"==typeof f&&f>=0){var g=a.playing(d);g&&a.pause(d,!0),b._seek=f,b._ended=!1,a._clearTimer(d),a._webAudio||!b._node||isNaN(b._node.duration)||(b._node.currentTime=f);var h=function(){g&&a.play(d,!0),a._emit("seek",d)};if(g&&!a._webAudio){var i=function(){a._playLock?setTimeout(i,0):h()};setTimeout(i,0)}else h()}else{if(!a._webAudio)return b._node.currentTime;var j=a.playing(d)?c.ctx.currentTime-b._playStart:0,k=b._rateSeek?b._rateSeek-b._seek:0;return b._seek+(k+j*Math.abs(b._rate))}return a},playing:function(b){if("number"==typeof b){var c=this._soundById(b);return!!c&&!c._paused}for(var a=0;a<this._sounds.length;a++)if(!this._sounds[a]._paused)return!0;return!1},duration:function(c){var a=this._duration,b=this._soundById(c);return b&&(a=this._sprite[b._sprite][1]/1e3),a},state:function(){return this._state},unload:function(){for(var d=this,b=d._sounds,a=0;a<b.length;a++)b[a]._paused||d.stop(b[a]._id),d._webAudio||(d._clearSound(b[a]._node),b[a]._node.removeEventListener("error",b[a]._errorFn,!1),b[a]._node.removeEventListener(c._canPlayEvent,b[a]._loadFn,!1),b[a]._node.removeEventListener("ended",b[a]._endFn,!1),c._releaseHtml5Audio(b[a]._node)),delete b[a]._node,d._clearTimer(b[a]._id);var e=c._howls.indexOf(d);e>=0&&c._howls.splice(e,1);var f=!0;for(a=0;a<c._howls.length;a++)if(c._howls[a]._src===d._src||d._src.indexOf(c._howls[a]._src)>=0){f=!1;break}return j&&f&&delete j[d._src],c.noAudio=!1,d._state="unloaded",d._sounds=[],d=null,null},on:function(d,a,b,c){var e=this["_on"+d];return"function"==typeof a&&e.push(c?{id:b,fn:a,once:c}:{id:b,fn:a}),this},off:function(f,b,g){var c=this,d=c["_on"+f],a=0;if("number"==typeof b&&(g=b,b=null),b||g)for(a=0;a<d.length;a++){var h=g===d[a].id;if(b===d[a].fn&&h|| !b&&h){d.splice(a,1);break}}else if(f)c["_on"+f]=[];else{var e=Object.keys(c);for(a=0;a<e.length;a++)0===e[a].indexOf("_on")&&Array.isArray(c[e[a]])&&(c[e[a]]=[])}return c},once:function(a,b,c){return this.on(a,b,c,1),this},_emit:function(d,e,f){for(var c=this,b=c["_on"+d],a=b.length-1;a>=0;a--)(!b[a].id||b[a].id===e||"load"===d)&&(setTimeout((function(a){a.call(this,e,f)}).bind(c,b[a].fn),0),b[a].once&&c.off(d,b[a].fn,b[a].id));return c._loadQueue(d),c},_loadQueue:function(a){if(this._queue.length>0){var b=this._queue[0];b.event===a&&(this._queue.shift(),this._loadQueue()),a||b.action()}return this},_ended:function(a){var b=this,e=a._sprite;if(!b._webAudio&&a._node&&!a._node.paused&&!a._node.ended&&a._node.currentTime<a._stop)return setTimeout(b._ended.bind(b,a),100),b;var d=!!(a._loop||b._sprite[e][2]);if(b._emit("end",a._id),!b._webAudio&&d&&b.stop(a._id,!0).play(a._id),b._webAudio&&d){b._emit("play",a._id),a._seek=a._start||0,a._rateSeek=0,a._playStart=c.ctx.currentTime;var f=(a._stop-a._start)*1e3/Math.abs(a._rate);b._endTimers[a._id]=setTimeout(b._ended.bind(b,a),f)}return b._webAudio&&!d&&(a._paused=!0,a._ended=!0,a._seek=a._start||0,a._rateSeek=0,b._clearTimer(a._id),b._cleanBuffer(a._node),c._autoSuspend()),b._webAudio||d||b.stop(a._id,!0),b},_clearTimer:function(a){if(this._endTimers[a]){if("function"!=typeof this._endTimers[a])clearTimeout(this._endTimers[a]);else{var b=this._soundById(a);b&&b._node&&b._node.removeEventListener("ended",this._endTimers[a],!1)}delete this._endTimers[a]}return this},_soundById:function(b){for(var a=0;a<this._sounds.length;a++)if(b===this._sounds[a]._id)return this._sounds[a];return null},_inactiveSound:function(){this._drain();for(var a=0;a<this._sounds.length;a++)if(this._sounds[a]._ended)return this._sounds[a].reset();return new f(this)},_drain:function(){var c=this._pool,b=0,a=0;if(!(this._sounds.length<c)){for(a=0;a<this._sounds.length;a++)this._sounds[a]._ended&&b++;for(a=this._sounds.length-1;a>=0;a--){if(b<=c)return;this._sounds[a]._ended&&(this._webAudio&&this._sounds[a]._node&&this._sounds[a]._node.disconnect(0),this._sounds.splice(a,1),b--)}}},_getSoundIds:function(b){if(void 0!==b)return[b];for(var c=[],a=0;a<this._sounds.length;a++)c.push(this._sounds[a]._id);return c},_refreshBuffer:function(a){return a._node.bufferSource=c.ctx.createBufferSource(),a._node.bufferSource.buffer=j[this._src],a._panner?a._node.bufferSource.connect(a._panner):a._node.bufferSource.connect(a._node),a._node.bufferSource.loop=a._loop,a._loop&&(a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop||0),a._node.bufferSource.playbackRate.setValueAtTime(a._rate,c.ctx.currentTime),this},_cleanBuffer:function(a){var b=c._navigator&&c._navigator.vendor.indexOf("Apple")>=0;if(c._scratchBuffer&&a.bufferSource&&(a.bufferSource.onended=null,a.bufferSource.disconnect(0),b))try{a.bufferSource.buffer=c._scratchBuffer}catch(d){}return a.bufferSource=null,this},_clearSound:function(a){/MSIE |Trident\//.test(c._navigator&&c._navigator.userAgent)||(a.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}},(f=function(a){this._parent=a,this.init()}).prototype={init:function(){var a=this,b=a._parent;return a._muted=b._muted,a._loop=b._loop,a._volume=b._volume,a._rate=b._rate,a._seek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++c._counter,b._sounds.push(a),a.create(),a},create:function(){var a=this,b=a._parent,d=c._muted||a._muted||a._parent._muted?0:a._volume;return b._webAudio?(a._node=void 0===c.ctx.createGain?c.ctx.createGainNode():c.ctx.createGain(),a._node.gain.setValueAtTime(d,c.ctx.currentTime),a._node.paused=!0,a._node.connect(c.masterGain)):c.noAudio||(a._node=c._obtainHtml5Audio(),a._errorFn=a._errorListener.bind(a),a._node.addEventListener("error",a._errorFn,!1),a._loadFn=a._loadListener.bind(a),a._node.addEventListener(c._canPlayEvent,a._loadFn,!1),a._endFn=a._endListener.bind(a),a._node.addEventListener("ended",a._endFn,!1),a._node.src=b._src,a._node.preload=!0===b._preload?"auto":b._preload,a._node.volume=d*c.volume(),a._node.load()),a},reset:function(){var a=this,b=a._parent;return a._muted=b._muted,a._loop=b._loop,a._volume=b._volume,a._rate=b._rate,a._seek=0,a._rateSeek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++c._counter,a},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var a=this._parent;a._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(a._sprite).length&&(a._sprite={__default:[0,1e3*a._duration]}),"loaded"!==a._state&&(a._state="loaded",a._emit("load"),a._loadQueue()),this._node.removeEventListener(c._canPlayEvent,this._loadFn,!1)},_endListener:function(){var a=this._parent;a._duration===1/0&&(a._duration=Math.ceil(10*this._node.duration)/10,a._sprite.__default[1]===1/0&&(a._sprite.__default[1]=1e3*a._duration),a._ended(this)),this._node.removeEventListener("ended",this._endFn,!1)}},j={},k=function(a){var c=a._src;if(j[c]){a._duration=j[c].duration,n(a);return}if(/^data:[^;]+;base64,/.test(c)){for(var e=atob(c.split(",")[1]),f=new Uint8Array(e.length),d=0;d<e.length;++d)f[d]=e.charCodeAt(d);m(f.buffer,a)}else{var b=new XMLHttpRequest;b.open(a._xhr.method,c,!0),b.withCredentials=a._xhr.withCredentials,b.responseType="arraybuffer",a._xhr.headers&&Object.keys(a._xhr.headers).forEach(function(c){b.setRequestHeader(c,a._xhr.headers[c])}),b.onload=function(){var c=(b.status+"")[0];if("0"!==c&&"2"!==c&&"3"!==c){a._emit("loaderror",null,"Failed loading audio file with status: "+b.status+".");return}m(b.response,a)},b.onerror=function(){a._webAudio&&(a._html5=!0,a._webAudio=!1,a._sounds=[],delete j[c],a.load())},l(b)}},l=function(a){try{a.send()}catch(b){a.onerror()}},m=function(a,e){var b=function(){e._emit("loaderror",null,"Decoding audio data failed.")},d=function(a){a&&e._sounds.length>0?(j[e._src]=a,n(e,a)):b()};"undefined"!=typeof Promise&&1===c.ctx.decodeAudioData.length?c.ctx.decodeAudioData(a).then(d).catch(b):c.ctx.decodeAudioData(a,d,b)},n=function(a,b){b&&!a._duration&&(a._duration=b.duration),0===Object.keys(a._sprite).length&&(a._sprite={__default:[0,1e3*a._duration]}),"loaded"!==a._state&&(a._state="loaded",a._emit("load"),a._loadQueue())},o=function(){if(c.usingWebAudio){try{"undefined"!=typeof AudioContext?c.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?c.ctx=new webkitAudioContext:c.usingWebAudio=!1}catch(f){c.usingWebAudio=!1}c.ctx||(c.usingWebAudio=!1);var d=/iP(hone|od|ad)/.test(c._navigator&&c._navigator.platform),a=c._navigator&&c._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),b=a?parseInt(a[1],10):null;if(d&&b&&b<9){var e=/safari/.test(c._navigator&&c._navigator.userAgent.toLowerCase());c._navigator&&!e&&(c.usingWebAudio=!1)}c.usingWebAudio&&(c.masterGain=void 0===c.ctx.createGain?c.ctx.createGainNode():c.ctx.createGain(),c.masterGain.gain.setValueAtTime(c._muted?0:c._volume,c.ctx.currentTime),c.masterGain.connect(c.ctx.destination)),c._setup()}},g=[],void 0!==(h=(function(){return{Howler:c,Howl:d}}).apply(e,g))&&(i.exports=h),e.Howler=c,e.Howl=d,void 0!==a.g?(a.g.HowlerGlobal=b,a.g.Howler=c,a.g.Howl=d,a.g.Sound=f):"undefined"!=typeof window&&(window.HowlerGlobal=b,window.Howler=c,window.Howl=d,window.Sound=f),HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(c){var a=this;if(!a.ctx||!a.ctx.listener)return a;for(var b=a._howls.length-1;b>=0;b--)a._howls[b].stereo(c);return a},HowlerGlobal.prototype.pos=function(d,b,c){var a=this;return a.ctx&&a.ctx.listener?(b="number"!=typeof b?a._pos[1]:b,c="number"!=typeof c?a._pos[2]:c,"number"!=typeof d)?a._pos:(a._pos=[d,b,c],void 0!==a.ctx.listener.positionX?(a.ctx.listener.positionX.setTargetAtTime(a._pos[0],Howler.ctx.currentTime,.1),a.ctx.listener.positionY.setTargetAtTime(a._pos[1],Howler.ctx.currentTime,.1),a.ctx.listener.positionZ.setTargetAtTime(a._pos[2],Howler.ctx.currentTime,.1)):a.ctx.listener.setPosition(a._pos[0],a._pos[1],a._pos[2]),a):a},HowlerGlobal.prototype.orientation=function(h,b,c,d,e,f){var a=this;if(!a.ctx||!a.ctx.listener)return a;var g=a._orientation;return(b="number"!=typeof b?g[1]:b,c="number"!=typeof c?g[2]:c,d="number"!=typeof d?g[3]:d,e="number"!=typeof e?g[4]:e,f="number"!=typeof f?g[5]:f,"number"!=typeof h)?g:(a._orientation=[h,b,c,d,e,f],void 0!==a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(h,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(b,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(c,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(d,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(f,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(h,b,c,d,e,f),a)},Howl.prototype.init=(p=Howl.prototype.init,function(a){var b=this;return b._orientation=a.orientation||[1,0,0],b._stereo=a.stereo||null,b._pos=a.pos||null,b._pannerAttr={coneInnerAngle:void 0!==a.coneInnerAngle?a.coneInnerAngle:360,coneOuterAngle:void 0!==a.coneOuterAngle?a.coneOuterAngle:360,coneOuterGain:void 0!==a.coneOuterGain?a.coneOuterGain:0,distanceModel:void 0!==a.distanceModel?a.distanceModel:"inverse",maxDistance:void 0!==a.maxDistance?a.maxDistance:1e4,panningModel:void 0!==a.panningModel?a.panningModel:"HRTF",refDistance:void 0!==a.refDistance?a.refDistance:1,rolloffFactor:void 0!==a.rolloffFactor?a.rolloffFactor:1},b._onstereo=a.onstereo?[{fn:a.onstereo}]:[],b._onpos=a.onpos?[{fn:a.onpos}]:[],b._onorientation=a.onorientation?[{fn:a.onorientation}]:[],p.call(this,a)}),Howl.prototype.stereo=function(c,e){var b=this;if(!b._webAudio)return b;if("loaded"!==b._state)return b._queue.push({event:"stereo",action:function(){b.stereo(c,e)}}),b;var f=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===e){if("number"!=typeof c)return b._stereo;b._stereo=c,b._pos=[c,0,0]}for(var g=b._getSoundIds(e),d=0;d<g.length;d++){var a=b._soundById(g[d]);if(a){if("number"!=typeof c)return a._stereo;a._stereo=c,a._pos=[c,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||s(a,f),"spatial"===f?void 0!==a._panner.positionX?(a._panner.positionX.setValueAtTime(c,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(c,0,0):a._panner.pan.setValueAtTime(c,Howler.ctx.currentTime)),b._emit("stereo",a._id)}}return b},Howl.prototype.pos=function(e,c,d,g){var b=this;if(!b._webAudio)return b;if("loaded"!==b._state)return b._queue.push({event:"pos",action:function(){b.pos(e,c,d,g)}}),b;if(c="number"!=typeof c?0:c,d="number"!=typeof d?-0.5:d,void 0===g){if("number"!=typeof e)return b._pos;b._pos=[e,c,d]}for(var h=b._getSoundIds(g),f=0;f<h.length;f++){var a=b._soundById(h[f]);if(a){if("number"!=typeof e)return a._pos;a._pos=[e,c,d],a._node&&((!a._panner||a._panner.pan)&&s(a,"spatial"),void 0!==a._panner.positionX?(a._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(c,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(d,Howler.ctx.currentTime)):a._panner.setPosition(e,c,d)),b._emit("pos",a._id)}}return b},Howl.prototype.orientation=function(e,c,d,g){var a=this;if(!a._webAudio)return a;if("loaded"!==a._state)return a._queue.push({event:"orientation",action:function(){a.orientation(e,c,d,g)}}),a;if(c="number"!=typeof c?a._orientation[1]:c,d="number"!=typeof d?a._orientation[2]:d,void 0===g){if("number"!=typeof e)return a._orientation;a._orientation=[e,c,d]}for(var h=a._getSoundIds(g),f=0;f<h.length;f++){var b=a._soundById(h[f]);if(b){if("number"!=typeof e)return b._orientation;b._orientation=[e,c,d],b._node&&(b._panner||(b._pos||(b._pos=a._pos||[0,0,-0.5]),s(b,"spatial")),void 0!==b._panner.orientationX?(b._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),b._panner.orientationY.setValueAtTime(c,Howler.ctx.currentTime),b._panner.orientationZ.setValueAtTime(d,Howler.ctx.currentTime)):b._panner.setOrientation(e,c,d)),a._emit("orientation",b._id)}}return a},Howl.prototype.pannerAttr=function(){var a,g,e,b=this,f=arguments;if(!b._webAudio)return b;if(0===f.length)return b._pannerAttr;if(1===f.length){if("object"!=typeof f[0])return(e=b._soundById(parseInt(f[0],10)))?e._pannerAttr:b._pannerAttr;a=f[0],void 0===g&&(a.pannerAttr||(a.pannerAttr={coneInnerAngle:a.coneInnerAngle,coneOuterAngle:a.coneOuterAngle,coneOuterGain:a.coneOuterGain,distanceModel:a.distanceModel,maxDistance:a.maxDistance,refDistance:a.refDistance,rolloffFactor:a.rolloffFactor,panningModel:a.panningModel}),b._pannerAttr={coneInnerAngle:void 0!==a.pannerAttr.coneInnerAngle?a.pannerAttr.coneInnerAngle:b._coneInnerAngle,coneOuterAngle:void 0!==a.pannerAttr.coneOuterAngle?a.pannerAttr.coneOuterAngle:b._coneOuterAngle,coneOuterGain:void 0!==a.pannerAttr.coneOuterGain?a.pannerAttr.coneOuterGain:b._coneOuterGain,distanceModel:void 0!==a.pannerAttr.distanceModel?a.pannerAttr.distanceModel:b._distanceModel,maxDistance:void 0!==a.pannerAttr.maxDistance?a.pannerAttr.maxDistance:b._maxDistance,refDistance:void 0!==a.pannerAttr.refDistance?a.pannerAttr.refDistance:b._refDistance,rolloffFactor:void 0!==a.pannerAttr.rolloffFactor?a.pannerAttr.rolloffFactor:b._rolloffFactor,panningModel:void 0!==a.pannerAttr.panningModel?a.pannerAttr.panningModel:b._panningModel})}else 2===f.length&&(a=f[0],g=parseInt(f[1],10));for(var i=b._getSoundIds(g),h=0;h<i.length;h++)if(e=b._soundById(i[h])){var c=e._pannerAttr;c={coneInnerAngle:void 0!==a.coneInnerAngle?a.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:void 0!==a.coneOuterAngle?a.coneOuterAngle:c.coneOuterAngle,coneOuterGain:void 0!==a.coneOuterGain?a.coneOuterGain:c.coneOuterGain,distanceModel:void 0!==a.distanceModel?a.distanceModel:c.distanceModel,maxDistance:void 0!==a.maxDistance?a.maxDistance:c.maxDistance,refDistance:void 0!==a.refDistance?a.refDistance:c.refDistance,rolloffFactor:void 0!==a.rolloffFactor?a.rolloffFactor:c.rolloffFactor,panningModel:void 0!==a.panningModel?a.panningModel:c.panningModel};var d=e._panner;d?(d.coneInnerAngle=c.coneInnerAngle,d.coneOuterAngle=c.coneOuterAngle,d.coneOuterGain=c.coneOuterGain,d.distanceModel=c.distanceModel,d.maxDistance=c.maxDistance,d.refDistance=c.refDistance,d.rolloffFactor=c.rolloffFactor,d.panningModel=c.panningModel):(e._pos||(e._pos=b._pos||[0,0,-0.5]),s(e,"spatial"))}return b},Sound.prototype.init=(q=Sound.prototype.init,function(){var a=this,b=a._parent;a._orientation=b._orientation,a._stereo=b._stereo,a._pos=b._pos,a._pannerAttr=b._pannerAttr,q.call(this),a._stereo?b.stereo(a._stereo):a._pos&&b.pos(a._pos[0],a._pos[1],a._pos[2],a._id)}),Sound.prototype.reset=(r=Sound.prototype.reset,function(){var a=this,b=a._parent;return a._orientation=b._orientation,a._stereo=b._stereo,a._pos=b._pos,a._pannerAttr=b._pannerAttr,a._stereo?b.stereo(a._stereo):a._pos?b.pos(a._pos[0],a._pos[1],a._pos[2],a._id):a._panner&&(a._panner.disconnect(0),a._panner=void 0,b._refreshBuffer(a)),r.call(this)}),s=function(a,b){"spatial"===(b=b||"spatial")?(a._panner=Howler.ctx.createPanner(),a._panner.coneInnerAngle=a._pannerAttr.coneInnerAngle,a._panner.coneOuterAngle=a._pannerAttr.coneOuterAngle,a._panner.coneOuterGain=a._pannerAttr.coneOuterGain,a._panner.distanceModel=a._pannerAttr.distanceModel,a._panner.maxDistance=a._pannerAttr.maxDistance,a._panner.refDistance=a._pannerAttr.refDistance,a._panner.rolloffFactor=a._pannerAttr.rolloffFactor,a._panner.panningModel=a._pannerAttr.panningModel,void 0!==a._panner.positionX?(a._panner.positionX.setValueAtTime(a._pos[0],Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(a._pos[1],Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(a._pos[2],Howler.ctx.currentTime)):a._panner.setPosition(a._pos[0],a._pos[1],a._pos[2]),void 0!==a._panner.orientationX?(a._panner.orientationX.setValueAtTime(a._orientation[0],Howler.ctx.currentTime),a._panner.orientationY.setValueAtTime(a._orientation[1],Howler.ctx.currentTime),a._panner.orientationZ.setValueAtTime(a._orientation[2],Howler.ctx.currentTime)):a._panner.setOrientation(a._orientation[0],a._orientation[1],a._orientation[2])):(a._panner=Howler.ctx.createStereoPanner(),a._panner.pan.setValueAtTime(a._stereo,Howler.ctx.currentTime)),a._panner.connect(a._node),a._paused||a._parent.pause(a._id,!0).play(a._id,!0)}}}])